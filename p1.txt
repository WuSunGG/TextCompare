基于ThinkPHP框架的学习共享资源平台的研究
1.	引言
	 我们对122位同学进行学习资源的相关调查。调查结果发现，在学习资源爆炸增长式的时代，搜寻者很难迅速找到优质且适合学习的资源。因此，结合学校实际情况、老师和学生的经验和资源，建立一个有针对性学习资源共享数据库变得刻不容缓，这样可以让老师的资源有地方放，学生有地方查找资源。系统以核心ThinkPHP为框架、MySQL为数据库基础构建，通过搜集老师及学生的经验及资源，为学生提供一个高效、快捷的学习资源的共享平台。 平台将金币机制和评价机制相结合，促进用户分享资源和保证资源的质量。依赖不定期的分享活动及奖励，鼓励用户分享，从而形成良性循环，以此构建一个资源共享平台。
2.	获取需求的方法
本次获取需求的方法主要以问卷的方式，对用户进行分析。通过对122名学生的调查，我们在“你是否在寻找学习资源时感到困难无从下手”的问题中发现，仅有4.10%的用户能顺利的找到自己所需要的资源，如图2.1所示，这意味着绝大部分的人很难顺利找到到自己所需要的学习资料。
 
图2.1 
	学生获取资源基本都是通过网络和图书馆，但是，对当前获取资源的途径满意的也仅仅只有29.51%，结果如图2.2所示。与此同时，支持建立平台的比例高达88.52%，如图2.3。可见，建立平台已近刻不容缓。
           
图2.2                                            图2.3
3.	需求分析及系统设计
	系统的存在目的是收集优质资源。这些资源可以是视频资源、文档资源、经验资源等，进而构成一个优质的学习资源数据库。对于这些资源，我们需要对其来源进行筛选和过滤。我们只允许老师或者学生在系统中发布资源，以此达到过滤的目的。当资源学生或者教师发布后，需要经过管理员审核，审核通过之后才能公开发布，以此来过滤掉一点不符合国家规定、违法国家相应条款的资源。系统核心流程图如图3.1所示。
 
图3.1 系统流程图
	当然，老师和学生发布的资源不一定都是高质量的。为次，我们通过评价系统，去掉评价很差的资源，使资源的质量得到进一步的保证。
	在系统中，资源主要是来至一个区域中比较优秀的人，比如说一个学校中的老师、有经验的学生等。他们所提供的资源比较能适合这一区域，因为他们是与需要学习的人生活比较贴近的人，对学生的情况比较了解，能相对准确的提供学习资源。对于优秀的学生来说，他们有很好的学习方法和学习资源，如果他们能将这些东西分享给大家学习，就会起到很大的带动作用。
	为了促进用户进行分享，我们采用比赛机制进行激励：当用户分享资源时，我们以浏览量和评论量以及评论的质量作为参考，选出优秀的分享者，给他“颁发荣誉证书”并公布在系统中，同时给予金币奖励，以促进用户分享。为了满足以上基本要求，系统就必须具备图3.2用例图中基本的功能。
 
图3.2用户用例图
	当拥有用户和资源后，我们需要对用户和资源进行管理。通过分析，可知管理员需要具备图3.3的用例图所示的功能。
 
图3.3 管理员用例图
4.	系统设计
a)	架构设计
	系统使用基于MVC架构的THINKPHP进行开发。MVC是一种软件设计典范，它强制性地使应用程序的输入、处理和输出分开，目的是实现软件系统的职能分工。利用框架的优点，可以大大提高了开发效率，提高了系统的可维护性。MVC架构图如图4.1所示。
 
图4.1 MVC架构
	其中，Model层实现系统中的业务逻辑，主要是获取数据和处理数据。View层用于与用户的交互。Controller层是Model与View之间沟通的桥梁，可以分派用户的请求并选择恰当的视图以用于显示，同时也可解释用户的输入转换为执行相应的操作。
b)	系统类设计
	MVC为我提供了一个良好的开发思想，大大提高了代码复用率。系统为了便于开发与维护，将系统分为三大模块。第一个模块是基本模块，既系统的主要部分。它包括资源的一些基本操作，如添加资源、修改资源、点赞、收藏、评论等，该模块对应系统中的Base、Index类。第二个模块是登陆管理模块，为用户提供登陆、注册、找回密码的功能，该模块对应系统中的Login类。第三个模块是管理模块，他为系统管理用户和资源提供方案，该模块对应系统中的Audit类。
	系统中所有的类均继承框架自带Controller的类，为表单数据获取、数据验证、页面跳转、数据处理与存储提供支持。基于以上分析，可以设计系统的类图，如图4.5所示。

 
图4.5 系统类图
c)	数据库逻辑设计
数据库是基础，优秀的数据库设计可以提高系统的性能和开发速度，数据库的设计关系到整个系统的开发设计，是整个系统的重要组成部分。本系统数据库的设计符合数据库设计的总原则，满足第三范式、充分性原则、 必要性原则。系统的数据库主要包括以下数据表:资源表（rs_resource）主要用于描述资源的信息。评论表(rs_comment)主要用来存储用户的评论。用户表(rs_user)主要用来存储用户的信息。收藏表(rs_comment)主要用来储用户的收藏。资源分类表(rs_resource_category)，主要用来存储资源的分类。支付表(rs_user_paid)主要用来存储用户已购买的资源。下载表(rs_userdownload) 主要用来存储用户已下载的资源。各表之间的关系如图4.6所示。
 
图4.6 数据表之间的关系（EER）
3系统实现与测试
	系统采用PHPStorm工具进行开发，ORM作为查询构建器，以Windows server 2012为服务器， Postman用于接口调试和开发，Jmeter用于软件测试。对于系统来说，检索和分享便是系统的核心。由于资源量很大，管理起来比较麻烦，因此本系统做了条件搜索功能，用户可以通过关键词来搜索信息，搜索分为准确搜索和模糊搜索。例如，用户在搜索框中输入某个关键词可以找出包含该关键词的所有资源。
5.	运行结果与分析
	系统编码完成后，经过多次的调试与修改，现已初步稳定运行在服务器上。目前，系统已收集了部分用户的经验与资源，功能均可正常运行。系统自运行以来，状况良好。用户使用本系统能快捷、方便的找到资源，这极大提高用户寻找特定资源的效率，同时，对经验的总结与收集也起到了很大的作用。
6.	结论
	因地制宜的开发一个资源分享平台，以高效、便捷、快速的方式为学生提供学习资源，可以有效的减轻学生寻找资源的困境，节省学生寻找资源的时间，从而实现资源复用、经验复用。针对高校学生难获取学习资源、找不到途径获取资源提供了新的解决方案，同时也给老师及学生分享学习经验提供了一个新的平台。
ThinkPHP框架的学习共享资源平台
软
件
安
装
说
明
书
Version 1.0

目  录
目  录	1
1 概述	1
1.1 编写目的	1
1.2 系统简介	1
1.3 系统运行环境	1
1.4 参考资料	1
2系统功能	2
2.1系统整体功能	2
2.1.2注册模块	2
2.1.3登陆模块	3
2.1.4上传模块	4
2.1.5下载模块	4
2.1.6查看信息模块	5
2.1.7提问专区模块	5
2.1.8投诉建议模块	6
2.2系统用户功能	7
2.2.1普通用户功能	7
2.2.2系统管理员功能	9
3相关说明	10
3.1 开发环境	10
3.2 测试环境	11

1 概述
1.1 编写目的
	本说明书为指导安装人员安装“ThinkPHP框架的学习共享资源平台（以下简称：学习资源共享平台）”而编写，希望该手册使他们在安装该系统的过程中无师自通。软件相关使用方法，请参考使用说明书。
1.2 系统运行环境
该系统的运行需要以下软硬件环境
服务端运行环境	Winserver2012+ PHP7.0+ MySQL 5.6+Nginx
客户端运行环境	谷歌内核的浏览器
最低配置	CPU双核以上
内存4G
硬盘120G
2系统安装
2.1 系统基本环境的安装
在PHP官网下载PHP7.0，在MySQL官网下载MySQL 5.6，在Nginx官网下载Nginx1.10，配置好即可。
2.1数据库的安装
将根目录中的数据库文件（db.sql）导入数据库，在application/config.php文件中配置好数据库访问参数即可。
2.2 软件的安装
	将所有文件拷贝到已经配置好的虚拟文件目录中即可，入口文件为index.php。

